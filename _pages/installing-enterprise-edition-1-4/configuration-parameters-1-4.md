---
UID: 56df3ded7ab1f
post_title: Configuration parameters (1.4)
post_excerpt: ""
layout: page
published: true
menu_order: 1
page_options_require_authentication: false
page_options_show_link_unauthenticated: false
hide_from_navigation: false
hide_from_related: true
---
<p>Here are the DCOS cluster configuration parameters. The DCOS build uses these parameters to create a customized install.</p>

<h1><a name="bootstrap-url"></a>bootstrap_url</h1>

<p>This parameter specifies the location for the DCOS installer to store the customized DCOS build files. This location can be local (<code>"bootstrap_url":"file:///tmp/dcos"</code>) or hosted (<code>http://&lt;your-web-server&gt;</code>).</p>

<h1><a name="cluster-name"></a>cluster_name</h1>

<p>This parameter specifies the name of your cluster. For example, <code>"cluster_name": "zk-example"</code>.</p>

<h1><a name="dns-search"></a>dns_search</h1>

<p>This parameter specifies a space-separated list of domains that are tried when an unqualified domain is entered (e.g. domain searches that do not contain '.'). The Linux implementation of <code>/etc/resolv.conf</code> restricts the maximum number of domains to 6 and the maximum number of characters the setting can have to 256. For more information, see <a href="http://man7.org/linux/man-pages/man5/resolv.conf.5.html">man /etc/resolv.conf</a>.</p>

<p>A <code>search</code> line with the specified contents is added to the <code>/etc/resolv.conf</code> file of every cluster host. <code>search</code> can do the same things as <code>domain</code> and is more extensible because multiple domains can be specified.</p>

<p>In this example, <code>example.com</code> has public website <code>www.example.com</code> and all of the hosts in the datacenter have fully qualified domain names that end with <code>dc1.example.com</code>. One of the hosts in your datacenter has the hostname <code>foo.dc1.example.com</code>. If <code>dns_search</code> is set to 'dc1.example.com example.com', then every DCOS host which does a name lookup of "foo" will get the A record for <code>foo.dc1.example.com</code>. If a machine looks up <code>www</code>, first <code>www.dc1.example.com</code> would be checked, but it does not exist, so the search would try the next domain, lookup <code>www.example.com</code>, find an A record, and then return it.</p>

<pre><code>"dns_search": "dc1.example.com dc1.example.com example.com dc1.example.com dc2.example.com example.com",
</code></pre>

<h1><a name="docker-remove"></a>docker_remove_delay</h1>

<p>This parameter specifies the amount of time to wait before removing the Docker image generated by the installer. It is recommended that you accept the default value 1 hour.</p>

<h1><a name="exhibitor-storage"></a>exhibitor_storage_backend</h1>

<p>This parameter specifies the name of Exhibitor storage backend. During DCOS installation, a storage system is required for configuring and orchestrating Zookeeper with Exhibitor on the master nodes. Exhibitor automatically configures your Zookeeper installation on the master nodes during your DCOS installation. The available options are <code>zookeeper</code>, <code>aws_s3</code>, and <code>shared_filesystem</code>:</p>

<ul>
<li><dl>
<dt><strong>zookeeper</strong></dt>
<dd>
<ul>
<li><p><strong>exhibitor_zk_hosts</strong> This parameter specifies a comma-separated list of one or more Zookeeper node IP addresses to use for configuring the internal Exhibitor instances. Exhibitor uses this Zookeeper cluster to orchestrate it's configuration.</p></li>
<li><p><strong>exhibitor_zk_path</strong> This parameter specifies the filepath that Exhibitor uses to store data, including the zoo.cfg file.</p></li>
</ul>
</dd>
</dl>

<p>Here is a zookeeper example:</p>

<pre><code>   "exhibitor_storage_backend": "zookeeper",
       "exhibitor_zk_hosts": "10.10.10.1:2181",
       "exhibitor_zk_path": "/zk-example"
</code></pre></li>
<li><p><strong>aws_s3</strong></p>

<ul>
<li><p><strong>aws_access_key_id</strong> This parameter specifies AWS key ID.</p></li>
<li><p><strong>aws_region</strong> This parameter specifies AWS region for your S3 bucket.</p></li>
<li><p><strong>aws_secret_access_key</strong> This parameter specifies AWS secret access key.</p></li>
<li><p><strong>s3_bucket</strong> This parameter specifies name of your S3 bucket.</p></li>
<li><p><strong>s3_prefix</strong> This parameter specifies S3 prefix to be used within your S3 bucket to be used by Exhibitor.</p>

<p>Here is an aws_s3 example:</p>

<pre><code>  "exhibitor_storage_backend": "aws_s3", "aws_access_key_id": "AKIAIOSFODNN7EXAMPLE", "aws_secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY", "aws_region": "us-west-2", "s3_bucket": "mybucket", "s3_prefix": "s3-example"
</code></pre></li>
</ul></li>
<li><p><strong>shared_filesystem</strong></p>

<ul>
<li><p><strong>exhibitor_fs_config_dir</strong> This parameter specifies the absolute path to the folder that Exhibitor uses to coordinate its configuration. This should be a directory inside of a Network File System (NFS) mount. For example, if every master has <code>/fserv</code> mounted via NFS, set as <code>"exhibitor_fs_config_dir": "/fserv/dcos-exhibitor"</code>.</p>

<p><strong>Important:</strong> With <code>shared_filesystem</code>, all masters must must have the NFS volume mounted and <code>exhibitor_fs_config_dir</code> must be inside of it. If any of your servers are missing the mount, the DCOS cluster will not start.</p>

<p>Here is a shared_filesystem example:</p>

<pre><code>  "exhibitor_storage_backend": "shared_filesystem", "exhibitor_fs_config_dir": "/shared-mount"
</code></pre></li>
</ul></li>
</ul>

<h1><a name="gc-delay"></a>gc_delay</h1>

<p>This parameter specifies th maximum amount of time to wait before cleaning up the executor directories. It is recommended that you accept the default value of 2 days.</p>

<h1><a name="master"></a>master_discovery</h1>

<p>This parameter specifies the Mesos master discovery method:</p>

<ul>
<li><p><strong>cloud_dynamic</strong> <!-- For AWS, Azure only. Cody 10/21/15 --> For AWS CloudFormation template only: Use an external proxy for the masters that lives at a static IP, for example, haproxy or nginx. For example,</p>

<p><code>"master_discovery":"cloud_dynamic"</code>.</p></li>
<li><p><strong>static</strong> Use the Mesos agents to discover the masters by giving each agent a static list of master IPs. The masters must not change IP addresses, and if a master is replaced, the new master must take the old master's IP address. For example, <code>"master_discovery":"static"</code>.</p>

<ul>
<li><strong>master_list</strong> Specify a JSON-formatted list of your static master IP addresses. This must be specified in JSON list format. For example, <code>"master_list": "["172.17.10.101", "172.17.10.102", "172.17.10.103"]"</code>.</li>
</ul></li>
<li><p><strong>vrrp</strong> Use keepalived with a VIP. You are required to maintain this VIP infrastructure. For example, <code>"master_discovery":"vrrp"</code>.</p>

<ul>
<li><p><strong>keepalived_router_id</strong> Specify the virtual router ID of the keepalived cluster. You must use the same virtual router ID across your cluster. For example, <code>"keepalived_router_id":"51"</code>.</p></li>
<li><p><strong>keepalived_interface</strong> Specify the interface that keepalived uses. For example, <code>"keepalived_interface":"eth1"</code>.</p></li>
<li><p><strong>keepalived_pass</strong> If you've set your auth to PASS, specify the same password that you set in your configuration file. For example, <code>"keepalived_pass":"$MY_STRONG_PASSWORD"</code>.</p></li>
<li><p><strong>keepalived_virtual_ipaddress</strong> Specify the VIP in use by your keepalived cluster. For example, <code>"keepalived_virtual_ipaddress":"67.34.242.55"</code>.</p></li>
</ul></li>
</ul>

<h1><a name="num-masters"></a>num_masters</h1>

<p>This parameter specifies the number of Mesos masters in your DCOS cluster. For example, <code>"num_masters": 3</code>.</p>

<h1><a name="resolvers"></a>resolvers</h1>

<p>This required parameters specifies a JSON-formatted list of DNS resolvers for your DCOS host nodes or accept the default value of <code>["8.8.8.8"]</code>. Set this parameter to the most authoritative nameservers that you have. If you want to resolve internal hostnames, set it to a nameserver that can resolve them. If you have no internal hostnames to resolve, it is acceptable to set this to a public nameserver like Google or AWS. For example, <code>"resolvers": "["8.8.8.8", "8.8.4.4"]"</code>.</p>

<pre><code>*Caution:* If you set the `resolvers` parameter incorrectly, you will permanently damage your configuration and have to reinstall DCOS.
</code></pre>

<h1><a name="roles"></a>roles</h1>

<p>This parameter specifies the Mesos roles to delegate to this node or accept the default value of <code>"slave_public"</code>:</p>

<ul>
<li><strong>slave_public:</strong> Runs the public agent node. This is the default value. For example, <code>"roles":"slave_public"</code>.</li>
<li><strong>master:</strong> Runs the master node. For example, <code>"roles":"master"</code>.</li>
<li><strong>slave:</strong> Runs the private agent node. For example, <code>"roles":"slave"</code>.</li>
</ul>

<p>For more information, see <a href="https://open.mesosphere.com/reference/mesos-master/#roles" target="_blank">Mesos roles</a>.</p>

<h1><a name="weights"></a>weights</h1>

<p>This parameter specifies the priority of the role or accept the default value of <code>"weights": "slave_public=1"</code>. For more information, see <a href="https://open.mesosphere.com/reference/mesos-master/#weights" target="_blank">Mesos weights</a>.</p>

<h1><a name="examples"></a>Example JSON configuration files</h1>

<h4><a name="zk"></a>DCOS cluster with 3 masters, Exhibitor/Zookeeper backed by another Zookeeper instance, Google DNS</h4>

<pre><code>{
    "cluster_name": "zk-example",
    "num_masters": 3,
    "exhibitor_storage_backend": "zookeeper",
    "exhibitor_zk_hosts": "10.10.10.1:2181",
    "exhibitor_zk_path": "/zk-example",
    "bootstrap_url":"file:///tmp/dcos",
    "master_discovery":"vrrp",
    "keepalived_router_id":"51",
    "keepalived_interface":"eth1",
    "keepalived_pass":"$MY_STRONG_PASSWORD",
    "keepalived_virtual_ipaddress":"67.34.242.55",
    "resolvers": "["8.8.8.8", "8.8.4.4"]",
    "roles": "slave_public",
    "weights": "slave_public=1"
}
</code></pre>

<h4><a name="shared"></a>DCOS cluster with 3 masters, Exhibitor/Zookeeper backed by a shared filesystem mount, Internal DNS</h4>

<pre><code>{
    "cluster_name": "fs-example",
    "num_masters": 3,
    "exhibitor_storage_backend": "shared_filesystem",
    "exhibitor_fs_config_dir": "/shared-mount",
    "bootstrap_url":"file:///tmp/dcos",
    "resolvers": "["10.10.5.1", "10.10.6.1"]",
    "roles": "slave_public",
    "weights": "slave_public=1"
}
</code></pre>

<h4><a name="aws"></a>DCOS Cluster with 3 masters, Exhibitor/Zookeeper backed by an AWS S3 bucket, and AWS DNS</h4>

<pre><code>{
    "cluster_name": "s3-example",
    "num_masters": 3,
    "exhibitor_storage_backend": "aws_s3",
    "aws_access_key_id": "AKIAIOSFODNN7EXAMPLE",
    "aws_secret_access_key": "wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",
    "aws_region": "us-west-2",
    "s3_bucket": "mybucket",
    "s3_prefix": "s3-example",
    "bootstrap_url":"file:///tmp/dcos",
    "resolvers": "["169.254.169.253"]",
    "roles": "slave_public",
    "weights": "slave_public=1"
}
</code></pre>